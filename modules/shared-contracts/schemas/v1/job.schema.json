{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://transcriberator.dev/schemas/shared-contracts/v1/job.schema.json",
  "title": "Job",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "id",
    "projectId",
    "audioAssetId",
    "mode",
    "status",
    "pipelineVersion",
    "configVersion",
    "createdAt",
    "updatedAt"
  ],
  "properties": {
    "id": {"type": "string", "format": "uuid"},
    "projectId": {"type": "string", "format": "uuid"},
    "audioAssetId": {"type": "string", "format": "uuid"},
    "mode": {"type": "string", "enum": ["draft", "hq"]},
    "status": {
      "type": "string",
      "enum": ["queued", "running", "succeeded", "failed", "cancelled"]
    },
    "pipelineVersion": {"type": "string", "minLength": 1},
    "configVersion": {"type": "string", "minLength": 1},
    "requestedBy": {"type": "string", "minLength": 1},
    "createdAt": {"type": "string", "format": "date-time"},
    "updatedAt": {"type": "string", "format": "date-time"},
    "startedAt": {"type": "string", "format": "date-time"},
    "finishedAt": {"type": "string", "format": "date-time"}
  }
}
